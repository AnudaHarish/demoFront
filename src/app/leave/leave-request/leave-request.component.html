<div class="container">

  <div class="row align-items-center justify-content-md-center">

    <div class="card text-center mt-5 border-secondary" style="width:30rem; ">
      <h4 style="padding-top: 1rem;">Leave Count</h4>
      <div class="card-body">

        <canvas id="myChart">
          {{graph}}
        </canvas>
      </div>
    </div>

    <div class="row" style="margin: 0; ">

      <div class="card mt-5 border-secondary" style="align-items: center; padding: 30px; min-width:600px">
        <legend class="mb-5">Apply Leave Request</legend>
        <div class="row">
          <div class="col">
            <p>Start Date</p>
            <mat-form-field>
              <mat-label>Start Date</mat-label>
              <input matInput [matDatepicker]="picker1" [matDatepickerFilter]="dateFilter" placeholder="Choose a date"
                (dateChange)="selectStartDateChangedHandler($event)" [disabled]="activeStartDate">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>

          </div>
          <div class="col ">
            <p>End Date</p>
            <mat-form-field>
              <mat-label>End Date </mat-label>
              <input matInput [matDatepicker]="picker2" [matDatepickerFilter]="dateFilter" placeholder="Choose a date"
                [min]="minimum" (dateChange)="selectEndDateChangedHandler($event) " [disabled]="activeEndDate">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div id="mydiv">

        </div>


        <form [formGroup]="formRepeat">

          <div formArrayName="item" *ngFor="let creds of formRepeat.get('item')?.controls; let i = index">
            <ng-container [formGroupName]="i">
              <div class="row">
                <div class="col col-md-5">
                  <label class="form-label mt-3">Selected Date {{i+1}}:</label>
                  <input class="form-control" type="text" value="{{this.dateArray[i]}}"
                    [checkFormDate]="this.dateArray[i]" aria-label="Disabled input example" disabled readonly>
                </div>
                <div class="row">
                  <div class="col col-md-6">
                    <label class="form-label mt-3">Select Leave Type:</label>
                    <select class="form-control" formControlName="type">

                      <option value="TYPE_CASUAL">Type Casual</option>
                      <option value="TYPE_SICK">Type Sick</option>
                      <option value="TYPE_ANNUAL">Type Annual</option>
                    </select>

                  </div>
                  <div class="col col-md-6">
                    <label class="form-label mt-3">Select Time Duration:</label>
                    <select class="form-control" formControlName="duration">

                      <option value="HALF">Half Day</option>
                      <option value="ENTIRE">Full Day</option>

                    </select>

                  </div>
                </div>
              </div>
              <br>
            </ng-container>
          </div>

          <button [disabled]="!isVisible || formRepeat.invalid" type="submit" class="btn btn-outline-dark"
            *ngIf="isVisible || formRepeat.invalid" (click)="submitRepeat()">Submit</button>
          <button class="btn btn-outline-dark" style="margin-left: 1rem;" (click)="resetWindow()">Reset</button>
        </form>

      </div>
    </div>

  </div>
</div>